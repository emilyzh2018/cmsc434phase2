<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=640, initial-scale=1.0" />
  <title>Health Tracking</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="healthTracker.css" />
</head>
<body>
  <div class="device">
    <div class="main-content" id="main-content">
      <div id="title-bar">
        <h1>Health Tracking</h1>
      </div>

      <div id="color-block">
        <ul>
          <strong>Workout Routine of the Day</strong> <button class="small-btn">Edit</button></li>
          <li><input type="checkbox" /> Pushups - 3 sets</li>
          <li><input type="checkbox" /> Squats - 3 sets</li>
        </ul>
      </div>

      <div id="daily-tip-box">
        <p><strong>Goals Progress</strong> <button class="small-btn">+</button></p>
        <label>Workout 5x/week</label>
        <progress value="60" max="100"></progress>
        <label>Run 1 mile</label>
        <progress value="80" max="100"></progress>
      </div>

      <div class="button-row">
        <div class="button-with-plus">
          <button class="gallery-item" id="open-pr-modal">Workout Personal Records</button>
          <button class="small-btn add-btn" id="add-pr-btn">+</button>
        </div>
        <button class="gallery-item" id="open-trends-modal">Trends</button>
      </div>
    </div>

    <div class="modal" id="pr-modal">
      <div class="modal-content">
        <span class="close-btn" id="close-pr-modal">×</span>
        <h3>Workout Personal Records</h3>
        <div class="gallery-content" id="pr-gallery">
          <div class="gallery-item">Bicep Curl<br><strong>20 lbs</strong></div>
          <div class="gallery-item">Pull Ups<br><strong>5</strong></div>
          <div class="gallery-item">Deadlift<br><strong>140 lbs</strong></div>
        </div>
      </div>
    </div>

    <div class="modal" id="trends-modal">
      <div class="modal-content">
        <span class="close-btn" id="close-trends-modal">×</span>
        <h3>Trends</h3>
        <div class="gallery-content" id="trends-gallery">
          <div class="gallery-item">Mile Pace<br><img src="https://via.placeholder.com/100x50" alt="mile graph" /></div>
          <div class="gallery-item">Steps<br><img src="https://via.placeholder.com/100x50" alt="steps graph" /></div>
        </div>
      </div>
    </div>

    <div class="modal" id="pr-input-modal">
      <div class="modal-content">
        <span class="close-btn" id="close-pr-input-modal">×</span>
        <h3>Add New Personal Record</h3>
        <div class="input-form">
          <input type="text" id="pr-exercise" placeholder="Exercise" />
          <input type="text" id="pr-value" placeholder="Value" />
          <button class="small-btn" id="submit-pr">Submit</button>
        </div>
      </div>
    </div>

    <div class="bottom-nav">
      <div class="nav-item">
        <img src="images/insight.png" alt="Insight Icon" class="icon" />
        <span class="label">Insights</span>
      </div>
      <div class="nav-item">
        <img src="images/watch-fitness.png" alt="Fitness Icon" class="icon" />
        <span class="label">Fitness</span>
      </div>
      <div class="nav-item active">
        <img src="images/home.png" alt="Home Icon" class="icon" />
        <span class="label">Home</span>
      </div>
      <div class="nav-item">
        <img src="images/apple-whole.png" alt="Nutrition Icon" class="icon" />
        <span class="label">Nutrition</span>
      </div>
      <div class="nav-item">
        <img src="images/users-medical.png" alt="Community Icon" class="icon" />
        <span class="label">Community</span>
      </div>
    </div>
  </div>

  <script>
    const body = document.body;
    const prModal = document.getElementById("pr-modal");
    const openPR = document.getElementById("open-pr-modal");
    const closePR = document.getElementById("close-pr-modal");
    const trendsModal = document.getElementById("trends-modal");
    const openTrends = document.getElementById("open-trends-modal");
    const closeTrends = document.getElementById("close-trends-modal");
    const prInputModal = document.getElementById("pr-input-modal");
    const addPRBtn = document.getElementById("add-pr-btn");
    const closePRInput = document.getElementById("close-pr-input-modal");
    const submitPR = document.getElementById("submit-pr");
    const prGallery = document.getElementById("pr-gallery");
    const mainContent = document.getElementById('main-content');

    function openModal(modal) {
      modal.style.display = "block";
      mainContent.classList.add("dimmed");
    }

    function closeModal(modal) {
      modal.style.display = "none";
      mainContent.classList.remove("dimmed");
    }

    openPR.onclick = () => openModal(prModal);
    closePR.onclick = () => closeModal(prModal);
    openTrends.onclick = () => openModal(trendsModal);
    closeTrends.onclick = () => closeModal(trendsModal);
    addPRBtn.onclick = () => openModal(prInputModal);
    closePRInput.onclick = () => closeModal(prInputModal);

    window.onclick = (event) => {
      if (event.target === prModal) closeModal(prModal);
      if (event.target === trendsModal) closeModal(trendsModal);
      if (event.target === prInputModal) closeModal(prInputModal);
    };

  
    submitPR.onclick = () => {
      const exercise = document.getElementById("pr-exercise").value;
      const value = document.getElementById("pr-value").value;
      if (exercise && value) {
        const newItem = document.createElement("div");
        newItem.className = "gallery-item";
        newItem.innerHTML = `${exercise}<br><strong>${value}</strong>`;
        prGallery.appendChild(newItem);
        document.getElementById("pr-exercise").value = "";
        document.getElementById("pr-value").value = "";
        closeModal(prInputModal);
      }
    };
  </script>
</body>
</html>